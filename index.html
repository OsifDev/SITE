<!DOCTYPE html>
<html lang='he'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>SITE - Frontend Demo</title>
<style>
body { font-family: Arial; padding:20px; }
#termsModal { display:none; }
</style>
</head>
<body>
<h1>שלום Demo User</h1>
<p>יתרה: 1000 ₪</p>

<h2>חיסכון</h2>
<p>מודול חיסכון - בקרוב</p>

<h2>סטייקינג</h2>
<p>מודול סטייקינג - בקרוב</p>

<label>סכום להשקעה:</label>
<input type="number" id="investAmount" value="1000"/>
<button onclick="invest()">השקעה</button>
<p id="investmentResult"></p>

<script>
async function invest() {
    const amount = parseFloat(document.getElementById('investAmount').value);
    if (!amount || amount <= 0) { alert("הכנס סכום חוקי"); return; }
    try {
        const res = await fetch('/api/invest', {
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body: JSON.stringify({ amount })
        });
        const data = await res.json();
        if (data.error) { alert(data.error); return; }
        document.getElementById('investmentResult').innerText =
            השקעת  ₪. תשואה חודשית צפויה:  ₪;
    } catch(e) { alert("שגיאה בחיבור לשרת"); }
}
</script>

<!-- Terms Modal -->
<div id="termsModal" class="terms-overlay">
  <div class="terms-content">
    <h2>תנאים והגבלות</h2>
    <p>עליך לקרוא ולהסכים לתנאים כדי להמשיך בגלישה באתר זה.</p>
    <button id="acceptTerms">אני מסכים</button>
  </div>
</div>
<style>
.terms-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.85); display: flex; justify-content: center; align-items: center;
  z-index: 9999;
}
.terms-content { background: #fff; padding: 30px; max-width: 500px; text-align: center; border-radius: 10px; }
#acceptTerms { padding: 10px 20px; cursor: pointer; }
</style>
<script>
document.addEventListener("DOMContentLoaded", function() {
  if (!localStorage.getItem("termsAccepted")) {
    document.getElementById("termsModal").style.display = "flex";
  }
  document.getElementById("acceptTerms").onclick = function() {
    localStorage.setItem("termsAccepted","true");
    document.getElementById("termsModal").style.display = "none";
  };
});
</script>

<footer>© 2025 SITE - Frontend Demo</footer>
</body>
</html>
